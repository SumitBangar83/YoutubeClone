<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>▶️  Youtube</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="./style.css">
    <!-- <style>
        
    </style> -->
</head>
<body>
    <div id="main">
        <div id="navbar">
            <div id = "menubar">
                <i class="fa-solid fa-bars " id = "menuBar"></i>
            </div>
            <div id = "search-bar" >
                <div>
                    <input type="text" id = "inputvalue"placeholder="Search">
                </div>
                <div id = "search-icon">
                    <i class="fa-solid fa-magnifying-glass" onclick="fetching()"></i>  
                    <!-- <i class="bi bi-search"></i> -->
                </div>
            </div>
            <div id="logo">
                <i class="fa-regular fa-bell" id ="bell-icon"></i>
                <i class="fa-brands fa-youtube"></i>
                <p>Youtube</p>
            </div>
        </div>
        
        <div id="container">
            <!-- This is sidebar -->
            <div id="sidebar">
                <div id="inner-sidebar">
    
                    <div class="pages">
                        <div class="p-icon">
                            <i class="fa-solid fa-house"></i>
                        </div>
                        <div class="p-text">
                            <p>Home</p>
                        </div>
                    </div>
        
                    <div class="pages">
                        <div class="p-icon">
                            <i class="fa-regular fa-circle-play"></i>
                        </div>
                        <div class="p-text">
                            <p>Shorts</p>
                        </div>
                    </div>
                    
                    <div class="pages">
                        <div class="p-icon">
                            <i class="fa-solid fa-notes-medical"></i>
                        </div>
                        <div class="p-text">
                            <p>Subscription</p>
                        </div>
                    </div>
                    
                    <!-- THis is for horizontal line -->
                    <div id = "hl"></div>
                    
                    <div class = "pages">
                        <p>You ></p>
                    </div>
        
                    <div class="pages">
                        <div class="p-icon">
                            <i class="fa-solid fa-user"></i>
                        </div>
                        <div class="p-text">
                            <p>Your Channel</p>
                        </div>
                    </div>
        
                    <div class="pages">
                        <div class="p-icon">
                            <i class="fa-solid fa-clock-rotate-left"></i>
                        </div>
                        <div class="p-text">
                            <p>History</p>
                        </div>
                    </div>
        
                    <div class="pages">
                        <div class="p-icon">
                            <i class="fa-regular fa-rectangle-list"></i>
                        </div>
                        <div class="p-text">
                            <p>Playlist</p>
                        </div>
                    </div>
                    
                    <div class="pages">
                        <div class="p-icon">            
                            <!-- <i class="fa-regular fa-rectangle-list"></i> -->
                            <i class="fa-solid fa-video"></i>
                        </div>
                        <div class="p-text">
                            <p>Your Vedeos</p>
                        </div>
                    </div>
        
                    <div class="pages">
                        <div class="p-icon">
                            <i class="fa-solid fa-check"></i>
                        </div>
                        <div class="p-text">
                            <p>Your Courses</p>
                        </div>
                    </div>
        
                    <div class="pages">
                        <div class="p-icon">
                            <i class="fa-solid fa-clock"></i>
                        </div>
                        <div class="p-text">
                            <p>Watch Later</p>
                        </div>
                    </div>
        
                    <div class="pages">
                        <div class="p-icon">
                            <i class="fa-regular fa-thumbs-up"></i>
                        </div>
                        <div class="p-text">
                            <p>Liked Vedeos</p>
                        </div>
                    </div>
        
                    <div class="pages">
                        <div class="p-icon">
                            <i class="fa-solid fa-scissors"></i>
                        </div>
                        <div class="p-text">
                            <p>Your Clips</p>
                        </div>
                    </div>
                    
                    <!-- THis is for horizontal line -->
                     <div id = "hl"></div>
        
                     <div class = "pages">
                        <p>Subscriptions</p>
                    </div> 
        
                    <div class="pages">
                        <div class="u-icon">
                            <i class="fa-regular fa-circle-user"></i>
                        </div>
                        <div class="u-text">
                            <p>07 Stekers</p>
                        </div>
                    </div>
                    
                    <div class="pages">
                        <div class="u-icon">
                            <i class="fa-regular fa-circle-user"></i>
                        </div>
                        <div class="u-text">
                            <p>AK Sumit</p>
                        </div>
                    </div>
                    
                    <div class="pages">
                        <div class="u-icon">
                            <i class="fa-regular fa-circle-user"></i>
                        </div>
                        <div class="u-text">
                            <p>Digital Nivesh</p>
                        </div>
                    </div>
                    
                    <div class="pages">
                        <div class="u-icon">
                            <i class="fa-regular fa-circle-user"></i>
                        </div>
                        <div class="u-text">
                            <p>Bhakti Sagar</p>
                        </div>
                    </div>
                    
                    <div class="pages">
                        <div class="u-icon">
                            <i class="fa-regular fa-circle-user"></i>
                        </div>
                        <div class="u-text">
                            <p>Ag Gour News</p>
                        </div>
                    </div>
                    
                    
                </div>
            </div>

            <!-- This is content  -->
            <!-- Content from api -->
            <div id="content">
            </div>
            
        </div>
        
        
    </div>
</body>
<script >
    // let  = document.getElementById("menuBar");
    let inputValue = document.getElementById("inputvalue");
    let menuBar = document.getElementById("menuBar");
    let sideBar = document.getElementById("sidebar");
    let conTent = document.getElementById("content");
    let Title = document.getElementsByClassName("title")

    let num = 0;
    // console.log(menuBar);
    // function sidebar(){
    //     console.log("hello");
    // }
    menuBar.addEventListener('click',() => {
        if(num == 0){
            sideBar.style.display = "block";
            num = 1;
            conTent.style.width = "87%";
            conTent.style.marginLeft = "13%";
            // grid-template-columns: repeat(3,1fr);
            conTent.style.gridTemplateColumns ="repeat(3,1fr)";
            conTent.style.gap = "20px";
            // Title.innerText = data[i].snippet.title.substr(0, 39)+"  ...";
        }
        else{
            sideBar.style.display = "none";
            num = 0;
            conTent.style.width = "100%";
            conTent.style.margin = "0";
            conTent.style.gridTemplateColumns ="repeat(4,1fr)";
            conTent.style.gap = "40px"; 
            // Title.innerText = data[i].snippet.title.substr(0, 30)+"  ...";
        }
    })
    
    // let api = `https://youtube.googleapis.com/youtube/v3/search?part=snippet&q=${inputValue.value}&key=AIzaSyCkIFLq-DmGLjvSRQq9JPgXpDr0BS71fFY`;
    
    let fetching = async() =>{
        let api = `https://youtube.googleapis.com/youtube/v3/search?part=%20snippet&maxResults=30&q=${inputValue.value}&key=AIzaSyAVw3g4D6A4E2eMKQPOW8rCQRJfEP3VNhE`
        
        
        let response = await fetch(api);
        let data = await response.json();
        console.log(data.items);
        let content = data.items;
        
        display(content);
        // console.log(content[0].id.videoId);
        // console.log(content[0].snippet.title);
        
    }
    window.addEventListener("load", async()=>{
        let api = `https://youtube.googleapis.com/youtube/v3/search?part=%20snippet&maxResults=50&q=tarak mehta ka ulta chasma &key=AIzaSyAVw3g4D6A4E2eMKQPOW8rCQRJfEP3VNhE`
        
        
        let response = await fetch(api);
        let data = await response.json();
        console.log(data.items);
        let content = data.items;
        
        display(content);
    })
    
    let display = (data) =>{
        conTent.innerText = "";
        for(let i = 0; i < data.length; i++){
            let innerDiv = document.createElement("div");
            // let icon = document.createElement("icon")
            let userIcon = document.createElement("div");
            userIcon.setAttribute("class","usericon");
            userIcon.innerHTML = '<i class="fa-regular fa-circle-user"></i>';
            let channelName = document.createElement("div");
            channelName.setAttribute("class","channelname");
            channelName.innerText = data[i].snippet.channelTitle.substr(0, 25);
            let userIconChannelName = document.createElement("div");
            userIconChannelName.setAttribute("class","usericonchannelname");
            userIconChannelName.append(userIcon,channelName);



            let vedeoFrame = document.createElement("iframe");
            titleBox = document.createElement("div");
            titleBox.setAttribute("class","titlebox")
            let Title = document.createElement("h4");
            Title.setAttribute("class", "title");
            innerDiv.setAttribute("class", "innerdiv");
            vedeoFrame.setAttribute("id", "vedeoframe");
            vedeoFrame.src = `https://www.youtube.com/embed/${data[i].id.videoId}`

            Title.innerText = data[i].snippet.title.substr(0, 35)+"  ...";
            Title.style.height = "20%";
            titleBox.append(Title);
            innerDiv.append(vedeoFrame,titleBox,userIconChannelName);
            conTent.appendChild(innerDiv);
            

        }

    }
    </script> 
    
    

</html>